<%= form_with(model:[@task_category,@detail_task],local:true) do |f|%>
<%# <%= render 'shared/error_messages', model: f.object %> 
  <h2>詳細TODO</h2>
  <div class="field">
    <%= f.label :title, "TODOタイトル" %><br />
    <%= f.text_field :title %>
  </div>
  <div class="field">
    <%= f.label :description, "詳細" %><br />
    <%= f.text_area :description, class: :form_description %>
  </div>

  <div class="field">
    <%= f.label :deadline, "完了期日" %><br />
      <%= raw sprintf(
          f.date_select(
            :deadline,
            prompt:"--",
            use_month_numbers:true,
            start_year:Time.now.year,
            end_year:2020,
            date_separator:'%s'),'年','月')+'日'%>
  </div>
  <div class="field">
    <%= f.label :state_id, "進捗状況" %><br />
    <%= f.collection_select(:state_id, State.all, :id, :name, {}, {class:"state-select"}) %>
  </div>
  <div class="field">
    <%= f.label :user_id, "担当者" %><br />
     <% users = User.pluck(:name, :id) %>
     <% users.each do |user| %>
     <% user[0] = "#{user[1]}. #{user[0]}" %>
      <% end %>
    <%= f.select :user_id, users, { prompt: '選択してください' } %>
  </div>
  <div class="actions">
    <%= f.submit "保存する", class: :form_btn ,method: :post %>
  </div>
<% end %>